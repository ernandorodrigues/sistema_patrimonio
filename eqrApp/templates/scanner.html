{% load qr_code %}{% load static %}
<style>
    #scanner-holder {
        position: relative;
    }

    #scanner {
        width: 100%;
        height: 50vh;
        object-fit: cover;
    }
</style>
<div class="container-fluid">
    <div id="scanner-holder">
        <video id="scanner" autoplay></video>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const videoElement = document.getElementById('scanner');

        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({
                video: {
                    facingMode: { exact: "environment" }  // Try to use the back camera
                }
            }).then(function (stream) {
                videoElement.srcObject = stream;
                videoElement.play();
            }).catch(function (error) {
                console.error('Error accessing the camera: ', error);
            });
        } else {
            console.error('MediaDevices API not supported.');
        }
    });
</script>
